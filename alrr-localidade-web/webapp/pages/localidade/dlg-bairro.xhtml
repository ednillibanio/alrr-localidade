<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<!--
/****************************************************************************************
* ALE-RR Licença																		*
* Copyright (C) 2018, ALE-RR															*
* Boa Vista, RR - Brasil																*
* Todos os direitos reservados.															*
* 																						*
* Este programa é propriedade da Assembleia Legislativa do Estado de Roraima e 			*
* não é permitida a distribuição, alteração ou cópia da mesma sem prévia autoriazação.	*
*																						*
*																						*
*****************************************************************************************
* Autor:  Ednil Libanio da Costa Junior													*
* Versão: 1.0.0 																		*
****************************************************************************************/
-->
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:al="http://xmlns.jcp.org/jsf/composite/componentes/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:alcore="http://al.rr.leg.br/facelets/core"
	xmlns:alcommons="http://al.rr.leg.br/facelets/commons"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:ph="http://xmlns.jcp.org/jsf/passthrough" lang="pt-br">

<p:dialog id="dlg-bairro" widgetVar="dlg-bairro" showEffect="clip"
	hideEffect="clip" closeOnEscape="true" showHeader="false"
	responsive="true" modal="true" resizable="false" closable="false"
	appendTo="@(body)" styleClass="ui-fluid ui-md-6 ui-lg-6 nopad"
	fitViewport="true">

	<o:form id="frm-bairro">
		<p:tooltip />
		<p:panel header="Bairro" id="pnl-bairro" style="nopad">

			<p:growl id="msgs-bairro" escape="false" closable="true">
				<p:autoUpdate />
			</p:growl>

			<p:panelGrid id="grid-bairro" columns="1" columnClasses="column"
				cellpadding="10" styleClass="ui-panelgrid-blank" layout="grid">

				<!-- NOME -->
				<h:panelGroup>
					<p:outputLabel value="Bairro:" for="nome-bairro" />
					<p:inputText id="nome-bairro" title="Bairro" label="Bairro"
						value="#{bairroController.entity.nome}" required="true"
						converter="#{capitalizeFullyConverter}">
						<f:validateLength minimum="3" maximum="250" for="nome-bairro" />
					</p:inputText>
					<p:message for="nome-bairro" display="tooltip" />
				</h:panelGroup>

				<!--   C A  M P O:  B U S C A   M U N I C Í P I O   -->
				<h:panelGroup>
					<p:outputLabel value="Municipio" for="municipio" />
					<p:autoComplete value="#{bairroController.entity.municipio}"
						id="municipio" label="Município" title="Município"
						completeMethod="#{municipioCompleteController.completeByNome}"
						var="mun" itemLabel="#{mun.nome.concat(' - ').concat(mun.uf)}"
						itemValue="#{mun}" converter="#{entityConverter}"
						forceSelection="true" minQueryLength="3" size="40" maxResults="8"
						required="true" emptyMessage="Nenhum município encontrado.">
						<p:column>#{mun.nome} - #{mun.uf}</p:column>
					</p:autoComplete>
					<p:message for="municipio" id="msg-mun" display="tooltip" />
				</h:panelGroup>
			</p:panelGrid>


			<!-- BOTOES -->
			<f:facet name="footer">
				<p:panelGrid columns="2" layout="grid"
					styleClass="ui-panelgrid-blank">

					<!-- CANCELAR -->
					<p:commandButton value="Fechar" id="btn-fechar" styleClass="btn-lg"
						icon="fa fa-fw fa-times" title="Fechar"
						oncomplete="PF('dlg-bairro').hide()" process="@this" />


					<!-- SALVAR -->
					<p:commandButton value="Salvar" id="btn-salvar" styleClass="btn-lg"
						icon="fa fa-fw fa-floppy-o" validateClient="true"
						update="frm-bairro" action="#{bairroController.salvar()}" />

				</p:panelGrid>
			</f:facet>


		</p:panel>
	</o:form>
</p:dialog>
</html>
