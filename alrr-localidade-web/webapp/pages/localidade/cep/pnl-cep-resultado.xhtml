<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<!--
/****************************************************************************************
* ALE-RR Licença																		*
* Copyright (C) 2018, ALE-RR															*
* Boa Vista, RR - Brasil																*
* Todos os direitos reservados.															*
* 																						*
* Este programa é propriedade da Assembleia Legislativa do Estado de Roraima e 			*
* não é permitida a distribuição, alteração ou cópia da mesma sem prévia autoriazação.	*
*																						*
*																						*
*****************************************************************************************
* Autor:  Ednil Libanio da Costa Junior													*
* Versão: 1.0.0 																		*
****************************************************************************************/
-->
<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:al="http://xmlns.jcp.org/jsf/composite/componentes/core"
	xmlns:alcore="http://al.rr.leg.br/facelets/core"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:shiro="http://shiro.apache.org/tags"
	xmlns:ph="http://xmlns.jcp.org/jsf/passthrough" lang="pt-br">


	<!-- RESULTADO DA PESQUISA -->
	<al:datatable-resultado-pesquisa id="dt-ceps"
		controller="#{cepController}" filename="ceps"
		dataTableRendered="#{cepController.entities.size()>0}" tabindex="5">

		<!--  N Ú M E R O  -->
		<p:column id="num" sortBy="#{var.numero}" headerText="CEP">
			<h:outputText value="#{var.numero}" />
		</p:column> -->

		<!--  L O G R A D O U R O  -->
		<p:column id="logradouro" sortBy="#{var.logradouro}"
			headerText="Logradouro">
			<h:outputText value="#{var.logradouro}" />
		</p:column>

		<!--  B A I R R O  -->
		<p:column id="bairro" sortBy="#{var.bairro.nome}" headerText="Bairro">
			<h:outputText value="#{var.bairro.nome}" />
		</p:column>

		<!--  M U N I C Í P I O  -->
		<p:column id="municipio" sortBy="#{var.municipio.nome}"
			headerText="Município">
			<h:outputText value="#{var.municipio.nome}" />
		</p:column>

		<!--  U F  -->
		<p:column sortBy="#{var.municipio.uf.nome}" id="uf" headerText="Uf"
			width="10%">
			<h:outputText value="#{var.municipio.uf.nome}" />
		</p:column>


		<f:facet name="contextmenu">
			<!-- ContextMenu deve sempre vir depois do datable para funcionar a seleção pelo botão direito do mouse. -->
			<p:contextMenu for="result" id="contextmenuId"
				styleClass="contextmenu" widgetVar="contextmenuVar"
				beforeShow="return true;">


				<!-- *********   M E N U   D E T A L H E S   ********* -->
				<alcore:menuitem-detalhes update="frm-cep-detalhes"
					action="#{cepController.detalhes()}" />


				<!-- *********   M E N U   E D I T A R   ********* -->
				<alcore:menuitem-editar update="frm-cep"
					action="#{cepController.editar()}" process="@this" />


				<!-- *********   M E N U   E X C L U I R   ********* -->
				<alcore:menuitem-excluir action="#{cepController.excluir()}"
					update="@(.result)">
					<p:confirm header="Excluir Cep"
						message="Tem certeza que deseja excluir o cep selecionado?"
						icon="ui-icon-alert" />
				</alcore:menuitem-excluir>


			</p:contextMenu>

		</f:facet>

	</al:datatable-resultado-pesquisa>

</ui:fragment>